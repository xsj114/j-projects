<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Typescript | 学习笔记</title>
    <meta name="description" content="A VitePress site">
    <link rel="stylesheet" href="/j-projects/assets/style.51882fe8.css">
    <link rel="modulepreload" href="/j-projects/assets/app.c1086fd0.js">
    <link rel="modulepreload" href="/j-projects/assets/notes_typescript.md.5ed459e0.lean.js">
    
    <script>(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  <meta name="twitter:title" content="Typescript | 学习笔记">
  <meta property="og:title" content="Typescript | 学习笔记">
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a9e6f746><!--[--><span tabindex="-1" data-v-4979b218></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-4979b218> Skip to content </a><!--]--><!----><header class="VPNav" data-v-a9e6f746 data-v-3510e1d8><div class="VPNavBar has-sidebar" data-v-3510e1d8 data-v-74c1539b><div class="container" data-v-74c1539b><div class="VPNavBarTitle has-sidebar" data-v-74c1539b data-v-3c0f5336><a class="title" href="/" data-v-3c0f5336><img class="logo" src="/j-projects/logo.png" alt="许仕杰" data-v-3c0f5336> 许仕杰</a></div><div class="content" data-v-74c1539b><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-74c1539b data-v-f507067e><span id="main-nav-aria-label" class="visually-hidden" data-v-f507067e>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/j-projects/introduce/" data-v-f507067e data-v-5ba96394 data-v-7bba6c3f><!--[-->个人简历<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout" data-v-f507067e data-v-dfa05698><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-dfa05698><span class="text" data-v-dfa05698><!----> 项目 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-dfa05698><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-dfa05698><div class="VPMenu" data-v-dfa05698 data-v-74d30e12><div class="items" data-v-74d30e12><!--[--><!--[--><a class="VPLink link VPMenuLink" href="/j-projects/projects/j-http-code.html" data-v-74d30e12 data-v-aa660e22 data-v-7bba6c3f><!--[-->j-http-code<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPMenuLink" href="/j-projects/projects/j-is.html" data-v-74d30e12 data-v-aa660e22 data-v-7bba6c3f><!--[-->j-is<!--]--><!----></a><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/j-projects/notes/html.html" data-v-f507067e data-v-5ba96394 data-v-7bba6c3f><!--[-->个人笔记<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/j-projects/resources/" data-v-f507067e data-v-5ba96394 data-v-7bba6c3f><!--[-->资源下载<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-74c1539b data-v-cb054782><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-cb054782 data-v-1c3c4e3a data-v-0f8a0fd4><span class="check" data-v-0f8a0fd4><span class="icon" data-v-0f8a0fd4><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1c3c4e3a><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1c3c4e3a><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-74c1539b data-v-2395d3a2 data-v-3c3cc352><!--[--><a class="VPSocialLink" href="https://github.com/xsj114/j-projects" title="github" target="_blank" rel="noopener noreferrer" data-v-3c3cc352 data-v-468f9198><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-468f9198><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden" data-v-468f9198>github</span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-74c1539b data-v-6222c0f0 data-v-dfa05698><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-dfa05698><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-dfa05698><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-dfa05698><div class="VPMenu" data-v-dfa05698 data-v-74d30e12><!----><!--[--><!--[--><!----><div class="group" data-v-6222c0f0><div class="item appearance" data-v-6222c0f0><p class="label" data-v-6222c0f0>Appearance</p><div class="appearance-action" data-v-6222c0f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-6222c0f0 data-v-1c3c4e3a data-v-0f8a0fd4><span class="check" data-v-0f8a0fd4><span class="icon" data-v-0f8a0fd4><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1c3c4e3a><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1c3c4e3a><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-6222c0f0><div class="item social-links" data-v-6222c0f0><div class="VPSocialLinks social-links-list" data-v-6222c0f0 data-v-3c3cc352><!--[--><a class="VPSocialLink" href="https://github.com/xsj114/j-projects" title="github" target="_blank" rel="noopener noreferrer" data-v-3c3cc352 data-v-468f9198><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-468f9198><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden" data-v-468f9198>github</span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-74c1539b data-v-90a6ef9a><span class="container" data-v-90a6ef9a><span class="top" data-v-90a6ef9a></span><span class="middle" data-v-90a6ef9a></span><span class="bottom" data-v-90a6ef9a></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-a9e6f746 data-v-692583f0><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-692583f0><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-692583f0><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-692583f0>Menu</span></button><a class="top-link" href="#" data-v-692583f0> Return to top </a></div><aside class="VPSidebar" data-v-a9e6f746 data-v-0bb99b57><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-0bb99b57><span class="visually-hidden" id="sidebar-aria-label" data-v-0bb99b57> Sidebar Navigation </span><!--[--><div class="group" data-v-0bb99b57><section class="VPSidebarGroup collapsible" data-v-0bb99b57 data-v-73b66ad4><div class="title" role="button" data-v-73b66ad4><h2 class="title-text" data-v-73b66ad4>学习笔记</h2><div class="action" data-v-73b66ad4><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-73b66ad4><!--[--><a class="link" href="/j-projects/notes/html.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>HTML</p></a><a class="link" href="/j-projects/notes/css.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>CSS</p></a><a class="link" href="/j-projects/notes/javascript.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>JAVASCRIPT</p></a><a class="link" href="/j-projects/notes/react.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>REACT</p></a><a class="link" href="/j-projects/notes/vue.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>VUE</p></a><a class="link active" href="/j-projects/notes/typescript.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>TYPESCRIPT</p></a><a class="link" href="/j-projects/notes/yarn.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>YARN</p></a><a class="link" href="/j-projects/notes/resetful.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>RESTFUL</p></a><a class="link" href="/j-projects/notes/design.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>设计模式</p></a><a class="link" href="/j-projects/notes/mysql.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>MYSQL</p></a><a class="link" href="/j-projects/notes/algorithm.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>算法</p></a><a class="link" href="/j-projects/notes/basis.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>计算机基础</p></a><a class="link" href="/j-projects/notes/vim.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>VIM</p></a><!--]--></div></section></div><div class="group" data-v-0bb99b57><section class="VPSidebarGroup collapsible collapsed" data-v-0bb99b57 data-v-73b66ad4><div class="title" role="button" data-v-73b66ad4><h2 class="title-text" data-v-73b66ad4>面试总结</h2><div class="action" data-v-73b66ad4><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-73b66ad4><!--[--><a class="link" href="/j-projects/notes/interview/css.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>css</p></a><a class="link" href="/j-projects/notes/interview/javascript.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>javascript</p></a><a class="link" href="/j-projects/notes/interview/performance.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>性能优化</p></a><a class="link" href="/j-projects/notes/interview/webpack.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>webpack</p></a><a class="link" href="/j-projects/notes/interview/node.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>node</p></a><a class="link" href="/j-projects/notes/interview/code.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>code</p></a><!--]--></div></section></div><div class="group" data-v-0bb99b57><section class="VPSidebarGroup collapsible collapsed" data-v-0bb99b57 data-v-73b66ad4><div class="title" role="button" data-v-73b66ad4><h2 class="title-text" data-v-73b66ad4>消费</h2><div class="action" data-v-73b66ad4><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-73b66ad4><!--[--><a class="link" href="/j-projects/notes/consume/consume.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>八字经</p></a><a class="link" href="/j-projects/notes/consume/lowcost.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>低成本创业</p></a><!--]--></div></section></div><div class="group" data-v-0bb99b57><section class="VPSidebarGroup collapsible collapsed" data-v-0bb99b57 data-v-73b66ad4><div class="title" role="button" data-v-73b66ad4><h2 class="title-text" data-v-73b66ad4>模式</h2><div class="action" data-v-73b66ad4><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-73b66ad4><!--[--><a class="link" href="/j-projects/notes/mode/profit.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>盈利模式</p></a><!--]--></div></section></div><div class="group" data-v-0bb99b57><section class="VPSidebarGroup collapsible collapsed" data-v-0bb99b57 data-v-73b66ad4><div class="title" role="button" data-v-73b66ad4><h2 class="title-text" data-v-73b66ad4>抖音相关</h2><div class="action" data-v-73b66ad4><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-73b66ad4><!--[--><a class="link" href="/j-projects/notes/douyin/local_life.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>本地生活</p></a><a class="link" href="/j-projects/notes/douyin/travel.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>带劵达人</p></a><!--]--></div></section></div><div class="group" data-v-0bb99b57><section class="VPSidebarGroup collapsible collapsed" data-v-0bb99b57 data-v-73b66ad4><div class="title" role="button" data-v-73b66ad4><h2 class="title-text" data-v-73b66ad4>快手相关</h2><div class="action" data-v-73b66ad4><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-73b66ad4><!--[--><a class="link" href="/j-projects/notes/kuaishou/basic.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>快手基础</p></a><a class="link" href="/j-projects/notes/kuaishou/guide.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>违规避坑指南</p></a><a class="link" href="/j-projects/notes/kuaishou/investmentFlow.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>投流</p></a><a class="link" href="/j-projects/notes/kuaishou/product.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>选品</p></a><a class="link" href="/j-projects/notes/kuaishou/video.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>短视频</p></a><a class="link" href="/j-projects/notes/kuaishou/liveBroadcast.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>直播</p></a><a class="link" href="/j-projects/notes/kuaishou/card.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>商品卡</p></a><a class="link" href="/j-projects/notes/kuaishou/account.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>对标账号</p></a><!--]--></div></section></div><div class="group" data-v-0bb99b57><section class="VPSidebarGroup collapsible collapsed" data-v-0bb99b57 data-v-73b66ad4><div class="title" role="button" data-v-73b66ad4><h2 class="title-text" data-v-73b66ad4>视频号相关</h2><div class="action" data-v-73b66ad4><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-73b66ad4><!--[--><a class="link" href="/j-projects/notes/shipinhao/basic.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>视频号基础</p></a><a class="link" href="/j-projects/notes/shipinhao/account.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>对标账号</p></a><!--]--></div></section></div><div class="group" data-v-0bb99b57><section class="VPSidebarGroup collapsible collapsed" data-v-0bb99b57 data-v-73b66ad4><div class="title" role="button" data-v-73b66ad4><h2 class="title-text" data-v-73b66ad4>产品</h2><div class="action" data-v-73b66ad4><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-73b66ad4><!--[--><!--]--></div></section></div><div class="group" data-v-0bb99b57><section class="VPSidebarGroup collapsible collapsed" data-v-0bb99b57 data-v-73b66ad4><div class="title" role="button" data-v-73b66ad4><h2 class="title-text" data-v-73b66ad4>备忘录</h2><div class="action" data-v-73b66ad4><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-73b66ad4><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-73b66ad4><!--[--><a class="link" href="/j-projects/notes/xushijie.html" data-v-73b66ad4 data-v-4909f862><p class="link-text" data-v-4909f862>账号与信息</p></a><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a9e6f746 data-v-193be341><div class="VPDoc has-sidebar" data-v-193be341 data-v-6c90a2e3><div class="container" data-v-6c90a2e3><div class="aside" data-v-6c90a2e3><div class="aside-curtain" data-v-6c90a2e3></div><div class="aside-container" data-v-6c90a2e3><div class="aside-content" data-v-6c90a2e3><div class="VPDocAside" data-v-6c90a2e3 data-v-2f7f6485><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-2f7f6485 data-v-93f34d3c><div class="content" data-v-93f34d3c><div class="outline-marker" data-v-93f34d3c></div><div class="outline-title" data-v-93f34d3c>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-93f34d3c><span class="visually-hidden" id="doc-outline-aria-label" data-v-93f34d3c> Table of Contents for current page </span><ul class="root" data-v-93f34d3c><!--[--><li style="" data-v-93f34d3c><a class="outline-link" href="#基础类型" data-v-93f34d3c>基础类型</a><ul data-v-93f34d3c><!--[--><li style="" data-v-93f34d3c><a class="outline-link nested" href="#布尔值" data-v-93f34d3c>布尔值</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#数字" data-v-93f34d3c>数字</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#字符串" data-v-93f34d3c>字符串</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#数组" data-v-93f34d3c>数组</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#元组tuple" data-v-93f34d3c>元组Tuple</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#枚举" data-v-93f34d3c>枚举</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#unknown" data-v-93f34d3c>unknown</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#any" data-v-93f34d3c>any</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#void" data-v-93f34d3c>void</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#null" data-v-93f34d3c>null</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#undefined" data-v-93f34d3c>undefined</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#never" data-v-93f34d3c>never</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#object" data-v-93f34d3c>object</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#类型断言" data-v-93f34d3c>类型断言</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#类型兼容" data-v-93f34d3c>类型兼容</a></li><!--]--></ul></li><li style="" data-v-93f34d3c><a class="outline-link" href="#interface" data-v-93f34d3c>interface</a><ul data-v-93f34d3c><!--[--><li style="" data-v-93f34d3c><a class="outline-link nested" href="#可选属性" data-v-93f34d3c>可选属性</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#只读属性" data-v-93f34d3c>只读属性</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#泛型只读数组" data-v-93f34d3c>泛型只读数组</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#字符串签名索引" data-v-93f34d3c>字符串签名索引</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#接口描述函数类型" data-v-93f34d3c>接口描述函数类型</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#索引签名" data-v-93f34d3c>索引签名</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#只读索引签名" data-v-93f34d3c>只读索引签名</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#class类型" data-v-93f34d3c>class类型</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#继承接口" data-v-93f34d3c>继承接口</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#混合类型" data-v-93f34d3c>混合类型</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#接口继承类" data-v-93f34d3c>接口继承类</a></li><!--]--></ul></li><li style="" data-v-93f34d3c><a class="outline-link" href="#类" data-v-93f34d3c>类</a><ul data-v-93f34d3c><!--[--><li style="" data-v-93f34d3c><a class="outline-link nested" href="#示例" data-v-93f34d3c>示例</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#继承" data-v-93f34d3c>继承</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#修饰符" data-v-93f34d3c>修饰符</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#抽象类" data-v-93f34d3c>抽象类</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#高级技巧" data-v-93f34d3c>高级技巧</a></li><!--]--></ul></li><li style="" data-v-93f34d3c><a class="outline-link" href="#函数" data-v-93f34d3c>函数</a><ul data-v-93f34d3c><!--[--><li style="" data-v-93f34d3c><a class="outline-link nested" href="#可选参数" data-v-93f34d3c>可选参数</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#默认参数" data-v-93f34d3c>默认参数</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#this用法" data-v-93f34d3c>this用法</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#重载" data-v-93f34d3c>重载</a></li><!--]--></ul></li><li style="" data-v-93f34d3c><a class="outline-link" href="#泛型" data-v-93f34d3c>泛型</a><ul data-v-93f34d3c><!--[--><li style="" data-v-93f34d3c><a class="outline-link nested" href="#基本示例" data-v-93f34d3c>基本示例</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#泛型类型" data-v-93f34d3c>泛型类型</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#泛型类" data-v-93f34d3c>泛型类</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#泛型约束" data-v-93f34d3c>泛型约束</a></li><!--]--></ul></li><li style="" data-v-93f34d3c><a class="outline-link" href="#类型推断" data-v-93f34d3c>类型推断</a><ul data-v-93f34d3c><!--[--><li style="" data-v-93f34d3c><a class="outline-link nested" href="#基础" data-v-93f34d3c>基础</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#最佳通用类型" data-v-93f34d3c>最佳通用类型</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#上下文类型" data-v-93f34d3c>上下文类型</a></li><!--]--></ul></li><li style="" data-v-93f34d3c><a class="outline-link" href="#高级类型" data-v-93f34d3c>高级类型</a><ul data-v-93f34d3c><!--[--><li style="" data-v-93f34d3c><a class="outline-link nested" href="#字符串字面量类型" data-v-93f34d3c>字符串字面量类型</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#交叉类型" data-v-93f34d3c>交叉类型</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#联合类型" data-v-93f34d3c>联合类型</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#类型保护" data-v-93f34d3c>类型保护</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#可为null的类型" data-v-93f34d3c>可为null的类型</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#类型别名" data-v-93f34d3c>类型别名</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#索引类型查询操作符" data-v-93f34d3c>索引类型查询操作符</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#索引访问操作符" data-v-93f34d3c>索引访问操作符</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#映射类型" data-v-93f34d3c>映射类型</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#条件类型" data-v-93f34d3c>条件类型</a></li><!--]--></ul></li><li style="" data-v-93f34d3c><a class="outline-link" href="#utility-types" data-v-93f34d3c>utility types</a><!----></li><li style="" data-v-93f34d3c><a class="outline-link" href="#声明合并" data-v-93f34d3c>声明合并</a><ul data-v-93f34d3c><!--[--><li style="" data-v-93f34d3c><a class="outline-link nested" href="#interface-merge" data-v-93f34d3c>interface merge</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#namespaces-merge" data-v-93f34d3c>namespaces merge</a></li><!--]--></ul></li><li style="" data-v-93f34d3c><a class="outline-link" href="#mixins" data-v-93f34d3c>mixins</a><!----></li><li style="" data-v-93f34d3c><a class="outline-link" href="#modules" data-v-93f34d3c>modules</a><ul data-v-93f34d3c><!--[--><li style="" data-v-93f34d3c><a class="outline-link nested" href="#export-and-import" data-v-93f34d3c>export and import</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#export-and-import-1" data-v-93f34d3c>export = and import =</a></li><!--]--></ul></li><li style="" data-v-93f34d3c><a class="outline-link" href="#模块解析" data-v-93f34d3c>模块解析</a><ul data-v-93f34d3c><!--[--><li style="" data-v-93f34d3c><a class="outline-link nested" href="#classic策略" data-v-93f34d3c>Classic策略</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#node策略" data-v-93f34d3c>Node策略</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#相对模块" data-v-93f34d3c>相对模块</a></li><li style="" data-v-93f34d3c><a class="outline-link nested" href="#非相对模块" data-v-93f34d3c>非相对模块</a></li><!--]--></ul></li><li style="" data-v-93f34d3c><a class="outline-link" href="#问题" data-v-93f34d3c>问题</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-2f7f6485></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-6c90a2e3><div class="content-container" data-v-6c90a2e3><main class="main" data-v-6c90a2e3><div style="position:relative;" class="vp-doc notes" data-v-6c90a2e3><div><nav class="table-of-contents"><ul><li><a href="#基础类型">基础类型</a><ul><li><a href="#布尔值">布尔值</a></li><li><a href="#数字">数字</a></li><li><a href="#字符串">字符串</a></li><li><a href="#数组">数组</a></li><li><a href="#元组tuple">元组Tuple</a></li><li><a href="#枚举">枚举</a></li><li><a href="#unknown">unknown</a></li><li><a href="#any">any</a></li><li><a href="#void">void</a></li><li><a href="#null">null</a></li><li><a href="#undefined">undefined</a></li><li><a href="#never">never</a></li><li><a href="#object">object</a></li><li><a href="#类型断言">类型断言</a></li><li><a href="#类型兼容">类型兼容</a><ul></ul></li></ul></li><li><a href="#interface">interface</a><ul><li><a href="#可选属性">可选属性</a></li><li><a href="#只读属性">只读属性</a></li><li><a href="#泛型只读数组">泛型只读数组</a></li><li><a href="#字符串签名索引">字符串签名索引</a></li><li><a href="#接口描述函数类型">接口描述函数类型</a></li><li><a href="#索引签名">索引签名</a></li><li><a href="#只读索引签名">只读索引签名</a></li><li><a href="#class类型">class类型</a></li><li><a href="#继承接口">继承接口</a></li><li><a href="#混合类型">混合类型</a></li><li><a href="#接口继承类">接口继承类</a></li></ul></li><li><a href="#类">类</a><ul><li><a href="#示例">示例</a></li><li><a href="#继承">继承</a></li><li><a href="#修饰符">修饰符</a><ul></ul></li><li><a href="#抽象类">抽象类</a></li><li><a href="#高级技巧">高级技巧</a></li></ul></li><li><a href="#函数">函数</a><ul><li><a href="#可选参数">可选参数</a></li><li><a href="#默认参数">默认参数</a></li><li><a href="#this用法">this用法</a></li><li><a href="#重载">重载</a></li></ul></li><li><a href="#泛型">泛型</a><ul><li><a href="#基本示例">基本示例</a></li><li><a href="#泛型类型">泛型类型</a></li><li><a href="#泛型类">泛型类</a></li><li><a href="#泛型约束">泛型约束</a></li></ul></li><li><a href="#类型推断">类型推断</a><ul><li><a href="#基础">基础</a></li><li><a href="#最佳通用类型">最佳通用类型</a></li><li><a href="#上下文类型">上下文类型</a></li></ul></li><li><a href="#高级类型">高级类型</a><ul><li><a href="#字符串字面量类型">字符串字面量类型</a></li><li><a href="#交叉类型">交叉类型</a></li><li><a href="#联合类型">联合类型</a></li><li><a href="#类型保护">类型保护</a><ul></ul></li><li><a href="#可为null的类型">可为null的类型</a></li><li><a href="#类型别名">类型别名</a></li><li><a href="#索引类型查询操作符">索引类型查询操作符</a></li><li><a href="#索引访问操作符">索引访问操作符</a></li><li><a href="#映射类型">映射类型</a></li><li><a href="#条件类型">条件类型</a></li></ul></li><li><a href="#utility-types">utility types</a></li><li><a href="#声明合并">声明合并</a><ul><li><a href="#interface-merge">interface merge</a></li><li><a href="#namespaces-merge">namespaces merge</a><ul></ul></li></ul></li><li><a href="#mixins">mixins</a></li><li><a href="#modules">modules</a><ul><li><a href="#export-and-import">export and import</a></li><li><a href="#export-and-import-1">export = and import =</a></li></ul></li><li><a href="#模块解析">模块解析</a><ul><li><a href="#classic策略">Classic策略</a></li><li><a href="#node策略">Node策略</a></li><li><a href="#相对模块">相对模块</a></li><li><a href="#非相对模块">非相对模块</a></li></ul></li><li><a href="#问题">问题</a></li></ul></nav><h1 id="typescript学习笔记" tabindex="-1">Typescript学习笔记 <a class="header-anchor" href="#typescript学习笔记" aria-hidden="true">#</a></h1><h2 id="基础类型" tabindex="-1">基础类型 <a class="header-anchor" href="#基础类型" aria-hidden="true">#</a></h2><h3 id="布尔值" tabindex="-1">布尔值 <a class="header-anchor" href="#布尔值" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>    let isDone:boolean = false
    let isDone:boolean = true
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="数字" tabindex="-1">数字 <a class="header-anchor" href="#数字" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>    // 10进制
    let decLiteral: number = 20
    
    // 16进制
    let hexLiteral:number = 0x14
    
    // 2进制
    let binaryLiteral:number = 0b10100
    
    // 8进制
    let octalLiteral:number = 0o24
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="字符串" tabindex="-1">字符串 <a class="header-anchor" href="#字符串" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>    let name:string = &#39;bob&#39;
    let age:number  = 30
    let sentence = `Hello, my name is ${name}
        I&#39;ll be ${age + 1} year.
    `
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="数组" tabindex="-1">数组 <a class="header-anchor" href="#数组" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let list:number[] = [1,2,3]

let list:Array&lt;number&gt; = [1,2,3]
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="元组tuple" tabindex="-1">元组Tuple <a class="header-anchor" href="#元组tuple" aria-hidden="true">#</a></h3><p>已知数组成员数量和类型</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let x:[string,number] 
x = [&#39;hello&#39;, 10]

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="枚举" tabindex="-1">枚举 <a class="header-anchor" href="#枚举" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>enum Color {
    Red = 1,
    Green,
    Blue
}
    
let c:Color = Color.Blue
console.log(c)  // 3
    
let colorName:string = Color[2]
console.log(colorName) // Green
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="unknown" tabindex="-1">unknown <a class="header-anchor" href="#unknown" aria-hidden="true">#</a></h3><p>任何类型都可以分配给unknown</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let notSure: unknown = 4
notSure = false
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="any" tabindex="-1">any <a class="header-anchor" href="#any" aria-hidden="true">#</a></h3><p>使用any其实就是退出类型检查</p><p>任何类型都可以分配给any</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let looselyTyped: any = 4
looselyTyped.ifItExists()

与unknown对比

let looselyTyped: unknown = 4
looselyTyped.ifItExists()  // Property &#39;ifItExists&#39; does not exist on type &#39;unknown&#39;

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="void" tabindex="-1">void <a class="header-anchor" href="#void" aria-hidden="true">#</a></h3><p>表示没有任何类型</p><p>void,any,never,undefined可分配给void null仅在<code>--strictNullChecks</code>未启用时可分配</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function warnUser():void {
}

// 如果声明一个void类型，值只能是null或者undefined
let unusable:void = null
let unusable:void = undefined

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="null" tabindex="-1">null <a class="header-anchor" href="#null" aria-hidden="true">#</a></h3><p>null是所有类型的子类型，子类型是可以赋值给父类型 null,never和any可以分配给null undefined仅在<code>--strictNullChecks</code>未启用时可分配</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let n:null = null
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="undefined" tabindex="-1">undefined <a class="header-anchor" href="#undefined" aria-hidden="true">#</a></h3><p>undefined是所有类型的子类型，子类型是可以赋值给父类型 undefined,never和any可以分配给undefined null仅在<code>--strictNullChecks</code>未启用时可分配</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let u:undefined = undefined
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="never" tabindex="-1">never <a class="header-anchor" href="#never" aria-hidden="true">#</a></h3><p>never是所有类型的子类型，子类型是可以赋值给父类型</p><p>除了never自己，任何类型不能分配给never</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function error (message:string): never {
    throw new Error(message)
}
 
function fail () {
    return error(&#39;something failed&#39;)
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="object" tabindex="-1">object <a class="header-anchor" href="#object" aria-hidden="true">#</a></h3><p>object,any,never可分配给object null，undefined仅在<code>--strictNullChecks</code>未启用时可分配</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>declare function create (o: object|null):void
create({prop: 0})
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="类型断言" tabindex="-1">类型断言 <a class="header-anchor" href="#类型断言" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let someValue:any = &#39;this is a string&#39;

let strLength:number = (&lt;string&gt;someValue).length

let strLength:number = (someValue as string).length

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="类型兼容" tabindex="-1">类型兼容 <a class="header-anchor" href="#类型兼容" aria-hidden="true">#</a></h3><p><code>typescript</code>中的类型兼容基于结构化子类型</p><h4 id="比较原始类型和对象类型" tabindex="-1">比较原始类型和对象类型 <a class="header-anchor" href="#比较原始类型和对象类型" aria-hidden="true">#</a></h4><p>如果x要兼容y，那么y至少具有与x相同的成员</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Named {
  name: string;
};
let x: Named;
let y = { name: &quot;Alice&quot;, location: &quot;Seattle&quot; };
x = y;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="比较两个函数" tabindex="-1">比较两个函数 <a class="header-anchor" href="#比较两个函数" aria-hidden="true">#</a></h4><p>x的每个参数在y中都有对应的兼容参数，x可以赋值给y y的第二个参数在x中没有，y不可以赋值给x</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let x = (a: number) =&gt; 0;
let y = (b: number, s: string) =&gt; 0;

y = x;   // OK
x = y;   // Error
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let x = () =&gt; ({ name: &quot;Alice&quot; });
let y = () =&gt; ({ name: &quot;Alice&quot;, location: &quot;Seattle&quot; });

x = y; // OK
y = x; // Error

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="函数的可选参数" tabindex="-1">函数的可选参数 <a class="header-anchor" href="#函数的可选参数" aria-hidden="true">#</a></h5><p>源类型上有额外的可选参数不是错误</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let x  = (a: number, b: string) =&gt; console.log(&#39;x&#39;)
let y  = (a: number, b: string, c?: boolean) =&gt; console.log(&#39;y&#39;)
x = y
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>目标类型的可选参数在源类型里没有对应的参数也不是错误</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let x = (a: number, b?: string) =&gt; console.log(&#39;x&#39;)
let y = (a: number) =&gt; console.log(&#39;y&#39;)
x = y
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="enum" tabindex="-1">Enum <a class="header-anchor" href="#enum" aria-hidden="true">#</a></h4><p>枚举类型与数字类型兼容</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>enum Status {
  Ready,
  Waiting,
}

let num: number = 2
num = Status.Ready
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>不同枚举类型之间是不兼容的</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>enum Status { Ready, Waiting };
enum Color  { Red, Blue, Green };
let s = Status.Ready;
s = Color.Red;  // Error
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="class" tabindex="-1">Class <a class="header-anchor" href="#class" aria-hidden="true">#</a></h4><p>类既有静态类型又有实例类型，比较一个类类型的两个对象时，仅比较实例的成员。静态成员和构造函数不影响兼容性</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Animal {
  feet: number;
  constructor(name: string, numFeet: number) {}
}

class Size {
  feet: number;
  constructor(numFeet: number) {}
}

let a: Animal;
let s: Size;

a = s; 
s = a; 
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h5 id="class中的private和protected" tabindex="-1">class中的private和protected <a class="header-anchor" href="#class中的private和protected" aria-hidden="true">#</a></h5><p>类的私有成员和受保护成员会影响兼容性。 当检查类实例的兼容时，如果目标类型包含一个私有成员，那么源类型必须包含来自同一个类的这个私有成员。受保护成员也是如此。</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Animal { 
    private feet: number;
}

class Dog extends Animal {}

class Parent {
    private feet: number
}

class Children extends Parent {}

let a: Animal;
let d: Dog;
let p: Parent;
let c: Children;

a = d // Ok
p = c // Ok

d = c // Error
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="generic" tabindex="-1">Generic <a class="header-anchor" href="#generic" aria-hidden="true">#</a></h4><p>类型参数只影响使用其做为类型一部分的结果类型</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Empty&lt;T&gt; {}
let x: Empty&lt;number&gt;;
let y: Empty&lt;string&gt;;

x = y;  // OK
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface NotEmpty&lt;T&gt; {
  data: T;
}
let x: NotEmpty&lt;number&gt;;
let y: NotEmpty&lt;string&gt;;

x = y; // Error
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>没指定泛型类型的泛型参数时，会把所有泛型参数当成any比较。 然后用结果类型进行比较。</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let identity = function &lt;T&gt;(x: T): T {};
let reverse = function &lt;U&gt;(y: U): U {};
identity = reverse;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="interface" tabindex="-1">interface <a class="header-anchor" href="#interface" aria-hidden="true">#</a></h2><h3 id="可选属性" tabindex="-1">可选属性 <a class="header-anchor" href="#可选属性" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Square {
    color: string
    area: number
}

interface SquareConfig {
    color?: string
    width?: number
}

function createSquare (config: SquareConfig):Square {
    let newSquare = {color: &#39;white&#39;, area: 100}   
    if (config.color) {
        newSquare.color = config.color
    }
    if (config.width) {
        newSquare.area = config.width * config.width
    }
    return newSquare
}

let mySquare = createSquare({color: &#39;black&#39;})

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="只读属性" tabindex="-1">只读属性 <a class="header-anchor" href="#只读属性" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Point {
    readonly x:number
    readonly y:number
}

let p: Ponit = {x: 10,y: 20}
p.x = 5 // error
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="泛型只读数组" tabindex="-1">泛型只读数组 <a class="header-anchor" href="#泛型只读数组" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let a:number[] = [1, 2, 3, 4]
let ro:ReadonlyArray&lt;number&gt; = a
ro[0] = 12 // error
ro.push(5) // error
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="字符串签名索引" tabindex="-1">字符串签名索引 <a class="header-anchor" href="#字符串签名索引" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Square {
    color: string
    area: number
}

interface SquareConfig {
    color?: string
    width?: number
    [propName:string]: any
}

function createSquare (config: SquareConfig):Square {
    let newSquare = {color: &#39;white&#39;, area: 100}   
    if (config.color) {
        newSquare.color = config.color
    }
    if (config.width) {
        newSquare.area = config.width * config.width
    }
    return newSquare
}

let mySquare = createSquare({color: &#39;black&#39;, colors: &#39;blue&#39;})
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="接口描述函数类型" tabindex="-1">接口描述函数类型 <a class="header-anchor" href="#接口描述函数类型" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface SearchFunc {
    (source: string, subString: string): boolean
}

let mySearch: SearchFunc
mySearch = function (source: string, subString: string): boolean {
    let result = source.search(subString)
    return result &gt; -1
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="索引签名" tabindex="-1">索引签名 <a class="header-anchor" href="#索引签名" aria-hidden="true">#</a></h3><p>typescript支持两种索引签名（字符串和数字）</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface StringArray {
    [index: number]: string
}

let myArray: StringArray 
myArray = [&#39;Bob&#39;, &#39;Fred&#39;]

let myStr: string = myArray[0]
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>数字签名的返回类型必须是字符串签名返回类型的子类型</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Animal {
    name: string
}

class Dog extends Animal {
    breed: string
}

// error
interface NotOkay {
    [x:number]: Animal
    [x:string]: Dog
}

interface NotOkay {
    [x:number]: Dog
    [x:string]: Animal
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="只读索引签名" tabindex="-1">只读索引签名 <a class="header-anchor" href="#只读索引签名" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface ReadonlyStringArray {
    readonly [index: number]: string
}

let myArray: ReadonlyStringArray =. [&#39;Alice&#39;, &#39;Bob&#39;]
myArray[2] = &#39;Mallory&#39; // error
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="class类型" tabindex="-1">class类型 <a class="header-anchor" href="#class类型" aria-hidden="true">#</a></h3><p>类实现一个接口，实际是对实例部分做一个检查，构造器实际是类的静态部分，所以不会做检查</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// 实例接口
interface ClockInterface {
    currentTime: Date
    setTime(d: Date)
}

// 构造器接口
interface ClockConstructor {
    new(hour: number, minute: number)
}

class Clock implements ClockInterface {
    currentTime: Date
    
    constructor (h: number,m: number) {
    }
    
    setTime (d: Date) {
        this.currentTime = d
    }
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface ClockInterface {
    tick()
}

interface ClockConstructor {
    new(hour:number,minute:number): ClockInterface
}

function createClock(ctor: ClockConstructor,hour: number,minute: number): ClockInterface {
    return new ctor(hour, minute)
}

class DigitalClock implements ClockInterface {
    constructor(h: number,m: number){}
    tick(){
        console.log(&#39;beep beep&#39;)
    }
}

class AnalogClock implements ClockInterface{
    constructor(h: number,m: number){}
    tick(){
        console.log(&#39;tick toc&#39;)
    }
}

let digital = createClock(DigitalClock, 12, 17)
let analog = createClock(AnalogClock, 7, 32)

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="继承接口" tabindex="-1">继承接口 <a class="header-anchor" href="#继承接口" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Shape {
    color: string 
}

interface PenStroke {
    penWidth: number
}

interface Square extends Shape,PenStroke {
    sideLength: number
}

// 强制断言
let squre = {} as Square
squre.color = &#39;blue&#39;
squre.sideLength = 10
squre.penWidth = 5.0
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="混合类型" tabindex="-1">混合类型 <a class="header-anchor" href="#混合类型" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Counter {
    (start: number): string
    interval: number
    reset(): void
}

function getCounter(): Counter {
    let counter = (function (start: number) {}) as Counter
    counter.interval = 123
    counter.reset = function () {
    }
    return counter
}

let c = getCounter()
c(10)
c.reset()
c.interval = 5.0
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="接口继承类" tabindex="-1">接口继承类 <a class="header-anchor" href="#接口继承类" aria-hidden="true">#</a></h3><p>当一个接口继承一个类的类型的时候，它会继承这个类的成员，但不包括它的实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Control {
    private state: any
}

interface SelectableControl extends Control{
    select()
}

class Button extends Control implements SelectableControl {
   select(){}
}

class Textbox extends Control {
    select(){}
}

// error
class ImageC implements SelectableControl {
    private state: any
    select(){}
}

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="类" tabindex="-1">类 <a class="header-anchor" href="#类" aria-hidden="true">#</a></h2><h3 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Greeter {
    greeting: string
    constructor (message: string) {
        this.greeting = message
    }
    greet () {
        retutn &#39;Hello, &#39; + this.greeting
    }
}

let greeter = new Greeter(&#39;world&#39;)
greeter.greet()
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="继承" tabindex="-1">继承 <a class="header-anchor" href="#继承" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Animal {
    move (distance: number = 0) {
        console.log(`Animal moved ${distance}m`) 
    }
}

class Dog extends Animal {
    bark () {
        console.log(&#39;Woof! Woof!&#39;)
    }
}

const dog = new Dog()
dog.bark()
dog.move(10)

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Animal {
    name: string
    constructor (name: string) {
        this.name = name
    }
    move (distance: number = 0) {
        console.log(`${this.name} moved ${distance}m`)
    }
}

class Snake extends Animal {
    constructor (name: string) {
        super(name)
    }
    move (distance: number = 5) {
        console.log(&#39;Slithering...&#39;)
        super.move(distance)
    }
}

class Horse extends Animal {
    constructor (name: string) {
        super(name)
    }
    move (distance: number = 45) {
        console.log(&#39;Galloping...&#39;)
        super.move(distance)
    }
}

let sam = new Snake(&#39;Sammy&#39;)
let tom: Animal = new Horse(&#39;Tommy&#39;)

sam.move()
tom.move(34)

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h3 id="修饰符" tabindex="-1">修饰符 <a class="header-anchor" href="#修饰符" aria-hidden="true">#</a></h3><h4 id="public" tabindex="-1">public <a class="header-anchor" href="#public" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Animal {
    public name: string
    public constructor(name: string){
        this.name = name
    }
    public move(distance: number = 0) {
        console.log(`${this.name} moved ${distance}m`)
    }
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="private" tabindex="-1">private <a class="header-anchor" href="#private" aria-hidden="true">#</a></h4><p>typescript中，当我们去比较两种类型的时候，并不在乎它们是从哪来的，如果他们所有的成员类型都是兼容的话，我们认为它是类型兼容的，但是我们比较带有private和protected的时候，如果其中一个类型带有private或protected成员的时候，只有当另外一个类型也存在这样一个private或protected成员，并且它们都是来自同一处声明的时候，我们才认为这两个是类型兼容的</p><p>private只可以在当前类中访问</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Animal {
    private name: string
    public constructor(name: string){
        this.name = name
    }
    public move(distance: number = 0) {
        console.log(`${this.name} moved ${distance}m`)
    }
}

// error
new Animal(&#39;Cat&#39;).name

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Animal {
    private name: string
    public constructor(name: string){
        this.name = name
    }
}

class Rhino extends Animal {
    constructor () {
        super(&#39;Rhino&#39;)
    }
}

class Employee {
    private name: string
    constructor (name: string) {
        this.name = name
    }
}

let animal = new Animal(&#39;Goat&#39;)
let rhino = new Rhino()
let employee = new Employee(&#39;Bob&#39;)

animal = rhino
animal = employee // error 因为都有私有name，来源不一样，所以无法兼容
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h4 id="protected" tabindex="-1">protected <a class="header-anchor" href="#protected" aria-hidden="true">#</a></h4><p>protected成员在子类中可以访问</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Person {
    protected name: string
    constructor(name: string){
        this.name = name
    }
}

class Employee extends Person {
    private department: string
    constructor (name: string, department: string) {
        super(name)
        this.department = department
    }
    getElevatorPitch () {
        return `Hello, my name is ${this.name} and I work in ${this.department}.`
    }
}

let howard = new Employee(&#39;Howard&#39;, &#39;Sales&#39;)
console.log(howard.getElevatorPitch())
console.log(howard.name) // error

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Person {
    protected name: string
    protected constructor(name: string){
        this.name = name
    }
}

// error
let john = new Person(&#39;John&#39;)

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="readonly" tabindex="-1">readonly <a class="header-anchor" href="#readonly" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Person {
    readonly name: string
    constructor (name: string) {
        this.name = name
    }
}

let john = new Person(&#39;John&#39;)
john.name = &#39;&#39; // error
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="参数属性" tabindex="-1">参数属性 <a class="header-anchor" href="#参数属性" aria-hidden="true">#</a></h4><p>所谓参数属性就是给构造函数参数，前面加上一个访问限定符来声明</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Person {
    constructor (readonly name: string) {}
}
let john = new Person(&#39;John&#39;)
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="存取器" tabindex="-1">存取器 <a class="header-anchor" href="#存取器" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let passcode = &#39;secret passcode&#39;

class Employee {
    private _fullName: string
    get fullName(): string {
        return this._fullName
    }
    set fullName(newName: string) {
        if (passcode &amp;&amp; passcode === &#39;secret passcode&#39;) {
            this._fullName = newName
        } else {
            console.log(&#39;Error&#39;)
        }
    }
}

let employee = new Employee()
employee.fullName = &#39;Bob Smith&#39;
if (employee.fullName) {
    console.log(employee.fullName)
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="类的静态属性" tabindex="-1">类的静态属性 <a class="header-anchor" href="#类的静态属性" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Grid {

    static origin = {x: 0,y: 0}
    
    scale: number
    
    constructor (scale: number) {
        this.scale = scale
    }
    
    claculateDistanceFromOrigin (point: {x: number, y: number}) {
        let xDist = point.x - Grid.origin.x
        let yDist = point.y - Grid.origin.y
        return Math.sqrt(xDist * xDist + yDist * yDist) * this.scale
    }
}

let grid1 = new Grid(1.0)
let grid2 = new Grid(5.0)

console.log(grid1.claculateDistanceFromOrigin({x:3, y: 4}))
console.log(grid2.claculateDistanceFromOrigin({x:3, y: 4}))
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="抽象类" tabindex="-1">抽象类 <a class="header-anchor" href="#抽象类" aria-hidden="true">#</a></h3><p>抽象类通常是作为其他派生类的基类使用，一般不能被直接实例化</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>abstract class Animal {
    // 抽象方法是不能直接被实现的，必须在他的派生类中实现
    abstract makeSound(): void
    move ():void {
        console.log(&#39;roaming the earth...&#39;)
    }
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>abstract class Department {
    name: string
    constructor (name: string) {
        this.name = name
    }
    
    printName(): void {
        console.log(&#39;Department name&#39; + this.name)
    }
    
    abstract printMeeting(): void
}

class AccountingDepartment extends Department {

    constructor () {
        super(&#39;Accounting ad Auditing&#39;)
    }
    
    printMeeting():void {
        console.log(&#39;The Accounting Department meets each Moday at 10am&#39;)
    }
    
    genterateReports():void {
        console.log(&#39;Generating accounting reports...&#39;)
    }
}

let department: Department
department = new Department() // error
department = new AccountingDepartment()
department.printName()
department.printMeeting()
department.genterateReports() // error
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="高级技巧" tabindex="-1">高级技巧 <a class="header-anchor" href="#高级技巧" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Greeter {
    static standardGreeting = &#39;Hello, there&#39;
    
    greeting: string
    
    constructor (message?: string) {
        this.greeting = message
    }
    
    greet () {
        if (this.greeting) {
            return &#39;Hello, &#39; + this.greeting
        } else {
            return Greeter.standardGreeting
        }
    }
}

let greeter: Greeter
greeter = new Greeter(&#39;world&#39;)
console.log(greeter.greet())

// typeof Greeter的意思是取Greeter类的一个类型，而不是实例的类型，是它的一个静态的类型
let greeterMaker: typeof Greeter = Greeter
greeterMaker.standardGreeting = &#39;Hey there&#39;

let greeter2: Greeter = new greeterMaker()
console.log(greeter2.greet())

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>类作为接口使用</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Point {
    x: number
    y: number
}

interface Point3d extends Point {
    z: number
}

let point3d: Point3d = {
    x: 1,
    y: 2,
    z: 3
}

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="函数" tabindex="-1">函数 <a class="header-anchor" href="#函数" aria-hidden="true">#</a></h2><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function add (x: number, y: number): number {
    return x + y
}

let myAdd = function (x: number, y: number): number {
    return x + y
}

let myAdd: (x: number, y: number) =&gt; number = function (x: number, y: number): number {
    return x + y
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="可选参数" tabindex="-1">可选参数 <a class="header-anchor" href="#可选参数" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function buildName (firstName: string, lastName?: string): string {
    if (lastName) {
        return firstName + &#39; &#39; + lastName
    } else {
        return firstName
    }
}

let result1 = buildName(&#39;Bob&#39;)
let result2 = buildName(&#39;Bob&#39;, &#39;Adams&#39;, &#39;Sr.&#39;) // error
let result3 = buildName(&#39;Bob&#39;, &#39;Adams&#39;)

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="默认参数" tabindex="-1">默认参数 <a class="header-anchor" href="#默认参数" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function buildName (firstName: string, lastName = &#39;Smith&#39;): string {
    return firstName + &#39; &#39; + lastName
}

let result1 = buildName(&#39;Bob&#39;, undefined)

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="this用法" tabindex="-1">this用法 <a class="header-anchor" href="#this用法" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Card {
    suit: string
    card: number
}

interface Deck {
    suits: string[]
    cards: number[]
    createCardPicker(this: Deck): () =&gt; Card
}

let deck: Deck = {
    suits: [&#39;hearts&#39;, &#39;spades&#39;, &#39;clubs&#39;, &#39;diamonds&#39;],
    cards: Array(52),
    createCardPicker: function (this: Deck) {
        return () =&gt; {
            let pickedCard = Math.floor(Math.random() * 52)
            let pickedSuit = Math.floor(pickedCard / 13)
            return {
                suit: this.suits[pickedSuit],
                card: pickedCard % 13
            }
        }
    }
}
    
let cardPicker = deck.createCardPicker()
let pickedCard = cardPicker()
    
console.log(&#39;card: &#39; + pickedCard.card + &#39;of&#39; + pickedCard.suit)
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface UIElement {
    addClickListener (onclick: (this:void, e: Event) =&gt; void): void
}

class Handler {
    type: string
    
    // 原始onClickBad函数
    onClickBad (this: void, e: Event) {
        this.type = e.type // error this是void没有type属性
    }
    
    // 改造后onClickBad函数，使用箭头函数来解决又想满足接口的约定，又能访问到Handler的this
    onClickBad = (e: Event) =&gt; {
        this.type = e.type
    }
    
}

let h = new Handler()

let uiElement: UIElement = {
    addClickListener () {
    
    }
}

uiElement.addClickListener(h.onClickBad)

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="重载" tabindex="-1">重载 <a class="header-anchor" href="#重载" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let suits = [&#39;heart&#39;, &#39;spades&#39;, &#39;clubs&#39;, &#39;diamonds&#39;]

function pickCard (x: {suit: string; card: number}[] ): number
function pickCard (x: number): {suit: string; card: number}

function pickCard(x): any {
    if (Array.isArray(x)) {
        let pickedCard = Math.floor(Math.random() * x.length)
        return pickedCard
    } else if (typeof x === &#39;number&#39;) {
        let pickedSuit = Math.floor(x / 13)
        return { suit: suits[pickedSuit], card: x % 13 }
    }   
}

let myDeck = [
    {suit: &#39;diamonds&#39;, card: 2},
    {suit: &#39;spades&#39;, card: 10},
    {suit: &#39;hearts&#39;, card: 4}
]
let pickedCard1 = myDeck[pickCard(myDeck)]
console.log(&#39;card: &#39; + pickedCard1.card + &#39; of&#39; + pickedCard1.suit)

let pickedCard2 = pickCard(15)
console.log(&#39;card: &#39; + pickedCard2.card + &#39; of&#39; + pickedCard2.suit)

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="泛型" tabindex="-1">泛型 <a class="header-anchor" href="#泛型" aria-hidden="true">#</a></h2><h3 id="基本示例" tabindex="-1">基本示例 <a class="header-anchor" href="#基本示例" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>
// &lt;T&gt;代表类型变量
function identity&lt;T&gt; (arg: T): T {
    return arg
}

let output = identity&lt;string&gt;(&#39;myString&#39;)

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function identity&lt;T&gt; (arg: T): T {
    return arg
}

function loggingIdentity&lt;T&gt;(arg: T[]): T[] {
    console.log(arg.length)
    return arg
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="泛型类型" tabindex="-1">泛型类型 <a class="header-anchor" href="#泛型类型" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function identity&lt;T&gt;(arg: T): T {
    return T
}

interface GenericIdentityFn {
    &lt;T&gt;(arg: T): T
}

// 以下写法是等价的
let myIdentity: &lt;T&gt;(arg: T) =&gt; T = identity
let myIdentity: {&lt;T&gt;(arg: T): T} = identity
let myIdentity: GenericIdentityFn = identity
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function identity&lt;T&gt;(arg: T): T {
    return T
}

interface GenericIdentityFn&lt;T&gt; {
    (arg: T): T
}

let myIdentity: GenericIdentityFn&lt;number&gt; = identity
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="泛型类" tabindex="-1">泛型类 <a class="header-anchor" href="#泛型类" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class GenericNumber&lt;T&gt; {
    zeroValue: T
    add: (x:T, y:T) =&gt; T
}

let myGenericNumber = new GenericNumber&lt;number&gt;()

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="泛型约束" tabindex="-1">泛型约束 <a class="header-anchor" href="#泛型约束" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Lengthwise {
    length: number
}

function loggingIdentity &lt;T extends Lengthwise&gt;(arg: T): T {
    console.log(arg.length)
    return arg
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function getProperty &lt;T, K extends keyof T&gt; (obj: T,key: K) {
    return obj[key]
}
let x = {a: 1,b: 2,c: 3,d: 4}
getProperty(x, &#39;a&#39;)
getProperty(x, &#39;m&#39;) // error
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Beekeeper {
    hasMask: boolean
}

class LionKeeper {
    nametag: string
}

class Animal {
    numLengs: number
}

class Bee extends Animal {
    keeper: Beekeeper
}

class Lion extends Animal {
    keeper: LionKeeper
}

function createInstance &lt;T extends Animal&gt; (c: new() =&gt; T): T {
    return new c()
}

createInstance(Lion).keeper.nametag
createInstance(Bee).keeper.hasMask
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="类型推断" tabindex="-1">类型推断 <a class="header-anchor" href="#类型推断" aria-hidden="true">#</a></h2><p>在初始化变量和成员，设置参数默认值以及确定函数返回类型时会发生这种推断</p><h3 id="基础" tabindex="-1">基础 <a class="header-anchor" href="#基础" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// 变量x被自动推断为number类型
let x = 3 
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="最佳通用类型" tabindex="-1">最佳通用类型 <a class="header-anchor" href="#最佳通用类型" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// 变量x类型为null和number的联合类型
let x = [0, 1, null]
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="上下文类型" tabindex="-1">上下文类型 <a class="header-anchor" href="#上下文类型" aria-hidden="true">#</a></h3><p>当表达式的类型由其位置隐含时，便发生上下文类型</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>window.onmousedown = function (mouseEvent) {
    console.log(mouseEvent.button)
    console.log(mouseEvent.clickTime) // Error
}

window.onmousedown = function (mouseEvent: any) {
    console.log(mouseEvent.clickTime)
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>上下文类型充当最佳通用类型的候选类型</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// 此例子最佳通用类型有三个候选者，分别是，Animal[], Bee类型,Lion类型
// Animal[]作为最佳通用类型

class Animal {
    numLegs: number
}

class Bee extends Animal {}

class Lion extends Animal {}

function createZoo(): Animal[] {
    return [new Bee(), new Lion()]
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="高级类型" tabindex="-1">高级类型 <a class="header-anchor" href="#高级类型" aria-hidden="true">#</a></h2><h3 id="字符串字面量类型" tabindex="-1">字符串字面量类型 <a class="header-anchor" href="#字符串字面量类型" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Easing = &#39;ease-in&#39; | &#39;ease-out&#39; | &#39;ease-in-out&#39;

class UIElement {
    animate (dx: number, dy: number, easing: Easing) {
        if (easing === &#39;ease-in&#39;) {
        } else if (easing === &#39;ease-out&#39;) {
        } else if (easing === &#39;ease-in-out&#39;) {
        } else {}
    }
}

let button = new UIElement()
button.animate(0, 0, &#39;ease-in&#39;)
button.animate(0, 0, &#39;uneasy&#39;)

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="交叉类型" tabindex="-1">交叉类型 <a class="header-anchor" href="#交叉类型" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function extend&lt;T, U&gt; (first: T, second: U): T &amp; U {
    let result = {} as T &amp; U
    for (let id in first) {
        result[id] = first[id] as any
    }
    for (let id in second) {
        if (!result.hasOwnProperty(id)) {
            result[id] = second[id] as any
        }
    }
    return result
}

class Person {
    constructor (public name: string) {
        
    }
}

interface Loggable {
    log(): void
}

class ConsoleLogger implements Loggable {
    log () {}
}

var jim = extend( new Person(&#39;jim&#39;), new ConsoleLogger() )

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="联合类型" tabindex="-1">联合类型 <a class="header-anchor" href="#联合类型" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function padLeft (value: string, padding: string | number) {
    if (typeof padding === &#39;number&#39;) {
        return Array(padding + 1).join(&#39; &#39;) + value
    }
    if (typeof padding === &#39;string&#39;) {
        return padding + value
    }
    throw new Error(`Expected string or number got ${padding}`)
}

padLeft(&#39;Hello world&#39;, 4)
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface A {
    p: string
}

interface B {
    p: number
}

let obj: A | B = {
    p: &#39;123&#39;
}

let obj2: A | B = {
    p: 123
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Brid {
    fly()
    layEggs()
}

interface Fish {
    swim()
    layEggs()
}

function getSmallPet(): Fish | Brid {}

let pet = getSmallPet()
pet.layEggs()
pet.swim() // error
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="类型保护" tabindex="-1">类型保护 <a class="header-anchor" href="#类型保护" aria-hidden="true">#</a></h3><h4 id="in操作符" tabindex="-1">in操作符 <a class="header-anchor" href="#in操作符" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Brid {
    fly()
    layEggs()
}

interface Fish  {
    swim()
    layEggs()
}

function getSmallPet(): Fish | Brid {}

let pet = getSmallPet()
pet.layEggs()

if (&quot;swim&quot; in pet) {
    pet.swim()
}

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="类型谓词" tabindex="-1">类型谓词 <a class="header-anchor" href="#类型谓词" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Bird {
    fly()
    layEggs()
}

interface Fish {
    swim()
    layEggs()
}

function getSmallPet(): Fish | Bird {}

let pet = getSmallPet()

if ( isFish(pet) ) {
    pet.swim()
} else {
    pet.fly()
}

function isFish (pet: Fish | Bird): pet is Fish {
    return (pet as Fish).swim !== undefined
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="typeof" tabindex="-1">typeof <a class="header-anchor" href="#typeof" aria-hidden="true">#</a></h4><p><code>typeof v === &quot;typename&quot;</code></p><p>其中&quot;typename&quot;是 （&quot;undefined&quot;, &quot;number&quot;, &quot;string&quot;, &quot;boolean&quot;, &quot;bigint&quot;, &quot;symbol&quot;, &quot;object&quot;, &quot;function&quot;）中的一个，如果是其他字符串，则TS不识别为类型保护</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>
function padLeft (value: string, padding: string | number) {
    if ( typeof padding === &#39;number&#39; ) {
        return Array(padding + 1).join(&#39; &#39;) + value
    }
    
    if ( typeof padding === &#39;string&#39; ) {
        return padding + value
    }
    
    throw new Error(`Expected string or number got ${padding}`)
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="instanceof" tabindex="-1">instanceof <a class="header-anchor" href="#instanceof" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Bird {
    fly () {
        console.log(&#39;bird fly&#39;)
    }
    layEggs () {
        console.log(`bird lay eggs`)
    }
}

class Fish {
    swim () {
        console.log(&#39;fish swim&#39;)
    }
    layEggs () {
        console.log(&#39;fish lay eggs&#39;)
    }
}

function getRandomPet():Fish | Bird {
    return Math.random() &gt; 0.5 ? new Bird() : new Fish() 
}

let pet = getRandomPet()

if ( pet instanceof Bird ) {
    pet.fly()
}

if ( pet instanceof Fish ) {
    pet.swim()
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="可为null的类型" tabindex="-1">可为null的类型 <a class="header-anchor" href="#可为null的类型" aria-hidden="true">#</a></h3><p><code>identifier!</code></p><p>从identifier的类型里去除了null和undefined</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function broken (name: string | null): string {
    function postfix (epithet: string) {
        return name!.charAt(0) + &#39;. the&#39; + epithet
    }
    name = name || &#39;Bob&#39;
    return postfix(name)
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function fn(stringOrNull: string | null): string {
  return stringOrNull ?? &quot;default&quot;;
}

console.log(fn(&#39;123&#39;)) // &#39;123&#39;
console.log(fn(undefined)) // &#39;default&#39;
console.log(fn(null)) // &#39;default&#39;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="类型别名" tabindex="-1">类型别名 <a class="header-anchor" href="#类型别名" aria-hidden="true">#</a></h3><p>别名实际上并不会创建新类型，而是会创建一个新名称来引用该类型 与interface的主要区别是，type不能扩展</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Second = number;
let timeInSecond: number = 10;
let time: Second = 10;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="索引类型查询操作符" tabindex="-1">索引类型查询操作符 <a class="header-anchor" href="#索引类型查询操作符" aria-hidden="true">#</a></h3><p><code>keyof T</code> keyof T的结果为T上已知的公共属性名的联合</p><p><code>keyof any</code> keyof any = string | number | symbol</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Person {
    name: string;
    age: number;
}

let personProps: keyof Person; // &#39;name&#39; | &#39;age&#39;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="索引访问操作符" tabindex="-1">索引访问操作符 <a class="header-anchor" href="#索引访问操作符" aria-hidden="true">#</a></h3><p><code>T[K]</code></p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function getProperty&lt;T, K extends keyof T&gt;(o: T, propertyName: K): T[K] {
  return o[propertyName];
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="映射类型" tabindex="-1">映射类型 <a class="header-anchor" href="#映射类型" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Optional&lt;T&gt; = {
    [P in keyof T]?: T[P]
}

interface Person {
    name: string
    age: number
}

type PersonPartial = Optional&lt;Person&gt;

let obj: PersonPartial = {}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Nullable&lt;T&gt; = {
    [P in keyof T]: T[P] | null
}

interface Person {
    readonly name: string
    age: number
}

let user: Nullable&lt;Person&gt; = {
    name: null,
    age: null
}

user.name = &#39;user&#39; // Error Cannot assign to &#39;name&#39; because it is a read-only property
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="条件类型" tabindex="-1">条件类型 <a class="header-anchor" href="#条件类型" aria-hidden="true">#</a></h3><p><code>T extends U ? X : Y</code></p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>declare function f&lt;T extends boolean&gt;(x: T): T extends true ? string : number;

let x = f(Math.random() &lt; 0.5);
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>条件类型不能递归引用自己</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type ElementType&lt;T&gt; = T extends any[] ? ElementType&lt;T[number]&gt; : T; // Error
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>条件类型推断声明</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type ReturnType&lt;T&gt; = T extends (...args: any[]) =&gt; infer R ? R : any;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Foo&lt;T&gt; = T extends { a: infer U; b: infer U } ? U : never;

// type T1 = string
type T1 = Foo&lt;{ a: string; b: string }&gt;;

// type T2 = string | number
type T2 = Foo&lt;{ a: string; b: number }&gt;;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="utility-types" tabindex="-1">utility types <a class="header-anchor" href="#utility-types" aria-hidden="true">#</a></h2><details class="details custom-block"><summary>Partial&lt;Type&gt;</summary><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Person {
    name: string
    age: number
}

let person: Person = {
    name: &#39;ming&#39;,
    age: 23
}

let user: Partial&lt;Person&gt; = {
    name: &#39;ming&#39;
}

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Partial&lt;T&gt; = {
    [ P in keyof T ]?: T[ P ];
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><details class="details custom-block"><summary>Required&lt;Type&gt;</summary><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Props {
  a?: number;
  b?: string;
}

const obj: Props = { a: 5 };

const obj2: Required&lt;Props&gt; = { a: 5, b: &#39;string&#39; };
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Required&lt;T&gt; = {
    [ P in keyof T ]-?: T[ P ];
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><details class="details custom-block"><summary>Readonly&lt;Type&gt;</summary><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Todo {
  title: string;
}

const todo: Readonly&lt;Todo&gt; = {
  title: &quot;World&quot;,
};

todo.title = &quot;Hello&quot;;  // error
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Readonly&lt;T&gt; = {
    readonly [ P in keyof T ]: T[ P ];
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><details class="details custom-block"><summary>Record&lt;Keys,Type&gt;</summary><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>let obj: Record&lt;&#39;a&#39;|&#39;b&#39;, boolean&gt; = {
    a: true,
    b: false
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Record&lt;K, T&gt; = {
    [ P in K ]: T;
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><details class="details custom-block"><summary>Pick&lt;Type,Keys&gt;</summary><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Todo {
  title: string;
  description: string;
  completed: boolean;
}

type TodoPreview = Pick&lt;Todo, &quot;title&quot; | &quot;completed&quot;&gt;;

const todo: TodoPreview = {
  title: &quot;Clean room&quot;,
  completed: false
};
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Pick&lt;T,K extends keyof T&gt; = {
    [P in K]: T[P]
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><details class="details custom-block"><summary>Omit&lt;Type,Keys&gt;</summary><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Todo {
    title: string;
    description: string;
    completed: boolean;
}

type TodoPreview = Omit&lt;Todo, &quot;description&quot; | &quot;completed&quot;&gt;;

const todo: TodoPreview = {
    title: &quot;Clean room&quot;
};
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Omit &lt;T, K extends keyof T&gt; = {
    [ P in Exclude&lt;keyof T, K&gt; ]: T[P]
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details><details class="details custom-block"><summary>Exclude&lt;Type,ExcludedUnion&gt;</summary><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// T0 = &quot;b&quot; | &quot;c&quot;
type T0 = Exclude&lt;&quot;a&quot; | &quot;b&quot; | &quot;c&quot;, &quot;a&quot;&gt;;

let b: T0 = &#39;b&#39;
let c: T0 = &#39;c&#39;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Exclude&lt;T, U&gt; = T extends U ? never : T;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details><details class="details custom-block"><summary>Extract&lt;Type,Union&gt;</summary><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type T0 = Extract&lt;&quot;a&quot; | &quot;b&quot; | &quot;c&quot;, &quot;a&quot;&gt;
let a: T0 = &#39;a&#39;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Extract&lt;T, U&gt; = T extends U ? T : never;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details><details class="details custom-block"><summary>NonNullable&lt;Type&gt;</summary><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type T0 = NonNullable&lt;string | number | undefined | null&gt;;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type NonNullable&lt;T&gt; = T extends undefined | null ? never : T;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details><details class="details custom-block"><summary>Parameters&lt;Type&gt;</summary><p>构造的是元组类型</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type T1 = Parameters&lt;(s: string) =&gt; void&gt;;

let arr: T1 = [&#39;1&#39;]
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>declare function f1(arg: { a: number; b: string }): void;
type T3 = Parameters&lt;typeof f1&gt;;
let arr: T3 = [{
    a: 1,
    b: &#39;b&#39;
}]
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Parameters&lt;T extends ( ...args: any[] ) =&gt; any&gt; = T extends ( ...args: infer P ) =&gt; any ? P : never;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details><details class="details custom-block"><summary>ConstructorParameters&lt;Type&gt;</summary><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Person {
    constructor( public name: string, age: number ) {}
}

// type X = [name: string, age: number]
type X = ConstructorParameters&lt;typeof Person&gt;

let arr: X = [&#39;&#39;, 32]
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type ConstructorParameters&lt;T extends new ( ...args: any[] ) =&gt; any&gt; = T extends new ( ...args: infer U ) =&gt; any ? U : never;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details><details class="details custom-block"><summary>ReturnType&lt;Type&gt;</summary><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// type T0 = string
type T0 = ReturnType&lt;() =&gt; string&gt;;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type ReturnType&lt;T extends ( ...args: any[] ) =&gt; any&gt; = T extends ( ...args: any[] ) =&gt; infer U ? U : never;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details><details class="details custom-block"><summary>InstanceType&lt;Type&gt;</summary><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class C {
  x = 0;
  y = 0;
}

type T0 = InstanceType&lt;typeof C&gt;;

let t: T0 = {
    x: 1,
    y: 1
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class C {
    x: string
    y: number
}

type T0 = InstanceType&lt;typeof C&gt;;

let t: T0 = {
    x: &#39;1&#39;,
    y: 1
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type InstanceType&lt;T extends new ( ...args: any ) =&gt; any&gt; = T extends new ( ...args: any ) =&gt; infer U ? U : any;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details><details class="details custom-block"><summary>ThisParameterType&lt;Type&gt;</summary><p>提取函数this参数的类型，如果没有this参数是unknown类型</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function toHex(this: Number) {
  return this.toString(16);
}

let a: ThisParameterType&lt;typeof toHex&gt; = 1
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type ThisParameterType&lt;T&gt; = T extends ( this: infer U, ...args: any[] ) =&gt; any ? U : unknown;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details><details class="details custom-block"><summary>OmitThisParameter&lt;Type&gt;</summary><p>删除Type中的this，创建新的函数类型，如果没有this，则就是Type类型</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function toHex (this: Number) {
  return this.toString(16);
}

const fn: OmitThisParameter&lt;typeof toHex&gt; = toHex.bind({a: 1});
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>实现</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type OmitThisParameter&lt;T&gt; = T extends ( this: infer U, ...args: infer A ) =&gt; infer R ? ( ...args: A ) =&gt; R : T;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type OmitThisParameter&lt;T&gt; = unknown extends ThisParameterType&lt;T&gt; ? T : T extends ( ...args: infer A ) =&gt; infer R ? ( ...args: A ) =&gt; R : T;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details><h2 id="声明合并" tabindex="-1">声明合并 <a class="header-anchor" href="#声明合并" aria-hidden="true">#</a></h2><h3 id="interface-merge" tabindex="-1">interface merge <a class="header-anchor" href="#interface-merge" aria-hidden="true">#</a></h3><p>接口的非函数的成员应该是唯一的。如果它们不是唯一的，那么它们必须是相同的类型 对于函数成员，每个同名函数声明都会被当成这个函数的一个重载</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Box {
  height: number;
  width: number;
}

interface Box {
  scale: number;
}

let box: Box = { height: 5, width: 6, scale: 10 };
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>合并时后面的接口具有更高的优先级</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>interface Cloner {
  clone(animal: Animal): Animal;
}
interface Cloner {
  clone(animal: Sheep): Sheep;
}
interface Cloner {
  clone(animal: Dog): Dog;
  clone(animal: Cat): Cat;
}

// already merge 
interface Cloner {
  clone(animal: Dog): Dog;
  clone(animal: Cat): Cat;
  clone(animal: Sheep): Sheep;
  clone(animal: Animal): Animal;
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="namespaces-merge" tabindex="-1">namespaces merge <a class="header-anchor" href="#namespaces-merge" aria-hidden="true">#</a></h3><p>命名空间会创建出命名空间和值</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>namespace Animals {
  export class Zebra {}
}

namespace Animals {
  export interface Legged {
    numberOfLegs: number;
  }
  export class Dog {}
}

// already merge 
namespace Animals {
  export interface Legged {
    numberOfLegs: number;
  }
  export class Zebra {}
  export class Dog {}
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="merge-namespaces-with-class" tabindex="-1">merge namespaces with class <a class="header-anchor" href="#merge-namespaces-with-class" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Album {
  label: Album.AlbumLabel;
}
namespace Album {
  export class AlbumLabel {}
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="merge-namespaces-with-function" tabindex="-1">merge namespaces with function <a class="header-anchor" href="#merge-namespaces-with-function" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function buildLabel(name: string): string {
  return buildLabel.prefix + name + buildLabel.suffix;
}

namespace buildLabel {
  export let suffix = &quot;&quot;;
  export let prefix = &quot;Hello, &quot;;
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="mixins" tabindex="-1">mixins <a class="header-anchor" href="#mixins" aria-hidden="true">#</a></h2><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type GConstructor&lt;T = {}&gt; = new (...args: any[]) =&gt; T;
type Positionable = GConstructor&lt;{ setPos: (x: number, y: number) =&gt; void }&gt;;

function Jumpable&lt;TBase extends Positionable&gt;(Base: TBase) {
    return class Jumpable extends Base {
        jump() {
            return this.setPos(0, 20);
        }
    }
}

class Position {
    setPos (x,y) {
        return x + y
    }
}

let instance =  Jumpable(Position)
let j = new instance()
console.log(j.jump())
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="modules" tabindex="-1">modules <a class="header-anchor" href="#modules" aria-hidden="true">#</a></h2><h3 id="export-and-import" tabindex="-1">export and import <a class="header-anchor" href="#export-and-import" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// fn.ts
export const numberRegexp = /^[0-9]+$/;

// index.ts
import {numberRegexp} from &#39;./fn&#39;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>导出重命名</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// fn.ts
const numberRegexp = /^[0-9]+$/;
export {numberRegexp as reg}

// index.ts
import {reg} from &#39;./fn&#39;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>重新导出</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// index.ts
import {reg, num } from &#39;./fn&#39;

// fn.ts
export const num = 5
export {numberRegexp as reg} from &#39;./base&#39;

// base.ts
export const numberRegexp = /^[0-9]+$/;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// index.ts
import {utilities, str}  from &#39;./fn&#39;

// fn.ts
export const str = &#39;hello&#39;
export * as utilities from &#39;./base&#39;

// base
export const numberRegexp = /^[0-9]+$/
export const num = 3
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>导出所有</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// index.ts
import * as all from &#39;./fn&#39;

// fn.ts
export * from &#39;./base&#39;

// base.ts
export const num = 5
export const str = &#39;hello&#39;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>导入重命名</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// index.ts
import {num as n} from &#39;./fn&#39;

// fn.ts
export const num = 5
export const str = &#39;hello&#39;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>导入类型</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// index.ts
import {A} from &#39;./fn&#39; | import type {A} from &#39;./fn&#39;

class Animal implements A {
    a: number
}

// fn.ts
export interface A {
    a: number
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>默认导出</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// index.ts
import a from &#39;./fn&#39;

// fn.ts
const a = 1
export default a
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="export-and-import-1" tabindex="-1">export = and import = <a class="header-anchor" href="#export-and-import-1" aria-hidden="true">#</a></h3><p>为了支持CommonJS和AMD的exports,TS提供了以下语法</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// index.ts
import str =  require(&#39;./fn&#39;)

// fn.ts
const str = &#39;hello&#39;
export = str
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="模块解析" tabindex="-1">模块解析 <a class="header-anchor" href="#模块解析" aria-hidden="true">#</a></h2><p>模块解析策略分为两种，分别是Classic或Node，如果解析失败了，且是非相对的模块名，编译器将查找<code>声明模块</code></p><h3 id="classic策略" tabindex="-1">Classic策略 <a class="header-anchor" href="#classic策略" aria-hidden="true">#</a></h3><p>对于相对模块解析（/root/src/folder/A.ts文件里有import { b } from &quot;./moduleB&quot;）</p><p>会按下面顺序查找</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>/root/src/folder/moduleB.ts
/root/src/folder/moduleB.d.ts
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>对于非相对模块解析（/root/src/folder/A.ts文件里有import { b } from &quot;moduleB&quot;）</p><p>会按下面顺序查找</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>/root/src/folder/moduleB.ts
/root/src/folder/moduleB.d.ts
/root/src/moduleB.ts
/root/src/moduleB.d.ts
/root/moduleB.ts
/root/moduleB.d.ts
/moduleB.ts
/moduleB.d.ts
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="node策略" tabindex="-1">Node策略 <a class="header-anchor" href="#node策略" aria-hidden="true">#</a></h3><p>对于相对模块解析（/root/src/moduleA.ts文件里有import { b } from &quot;./moduleB&quot;）</p><p>会按下面顺序查找</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>/root/src/moduleB.ts
/root/src/moduleB.tsx
/root/src/moduleB.d.ts
/root/src/moduleB/package.json (如果指定了types属性)
/root/src/moduleB/index.ts
/root/src/moduleB/index.tsx
/root/src/moduleB/index.d.ts
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>对于非相对模块解析（/root/src/moduleA.ts文件里有import { b } from &quot;moduleB&quot;）</p><p>会按下面顺序查找</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>/root/src/node_modules/moduleB.ts
/root/src/node_modules/moduleB.tsx
/root/src/node_modules/moduleB.d.ts
/root/src/node_modules/moduleB/package.json (如果指定了types属性)
/root/src/node_modules/@types/moduleB.d.ts
/root/src/node_modules/moduleB/index.ts
/root/src/node_modules/moduleB/index.tsx
/root/src/node_modules/moduleB/index.d.ts

/root/node_modules/moduleB.ts
/root/node_modules/moduleB.tsx
/root/node_modules/moduleB.d.ts
/root/node_modules/moduleB/package.json (如果指定了types属性)
/root/node_modules/@types/moduleB.d.ts
/root/node_modules/moduleB/index.ts
/root/node_modules/moduleB/index.tsx
/root/node_modules/moduleB/index.d.ts

/node_modules/moduleB.ts
/node_modules/moduleB.tsx
/node_modules/moduleB.d.ts
/node_modules/moduleB/package.json (如果指定了types属性)
/node_modules/@types/moduleB.d.ts
/node_modules/moduleB/index.ts
/node_modules/moduleB/index.tsx
/node_modules/moduleB/index.d.ts
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="相对模块" tabindex="-1">相对模块 <a class="header-anchor" href="#相对模块" aria-hidden="true">#</a></h3><p>相对模块不能解析为一个外部模块声明</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>import {a} from &#39;./fn&#39;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="非相对模块" tabindex="-1">非相对模块 <a class="header-anchor" href="#非相对模块" aria-hidden="true">#</a></h3><p>非相对模块可以被解析成外部模块声明</p><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>import * as $ from &quot;jQuery&quot;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="问题" tabindex="-1">问题 <a class="header-anchor" href="#问题" aria-hidden="true">#</a></h2><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type HttpRequest = ( url: string, options: Record&lt;string, any&gt; ) =&gt; Promise&lt;any&gt;;

&lt;HttpRequest&gt;function request( url, options = {} ) {
    return Promise.resolve( { url, options } );
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>class Controller {}

class Provider {
    constructor( public options: Record&lt;string, any&gt; ) {}
}

type YnnOptions = {
    controllers: Record&lt;string, typeof Controller&gt;;
    providers: Record&lt;string, { new(): any }&gt;;
}

const options: YnnOptions = {
    controllers : {
        index : Controller,
    },
    providers : {
        // Type &#39;typeof Provider&#39; is not assignable to type &#39;new () =&gt; any&#39;.
        user : Provider
    }
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type BoxedValue&lt;T&gt; = { value: T };
type BoxedArray&lt;T&gt; = { array: T[] };
type Boxed&lt;T&gt; = T extends any[] ? BoxedArray&lt;T[number]&gt; : BoxedValue&lt;T&gt;;

type T1 = Boxed&lt;string&gt;;
type T2 = Boxed&lt;number[]&gt;;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type NotNullable&lt;T&gt; = Diff&lt;T, null | undefined&gt;;

type Diff&lt;T, U&gt; = T extends U ? never : T;

function f1&lt;T&gt;(x: T, y: NotNullable&lt;T&gt;) {
    x = y;
    y = x; // error
}
    
function f2&lt;T extends string | undefined&gt;(x: T, y: NotNullable&lt;T&gt;) {
    x = y;
    y = x; // error
    let s1: string = x;
    let s2: string = y;
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type FunctionPropertyNames&lt;T&gt; = {
  [K in keyof T]: T[K] extends Function ? K : never;
}[keyof T];
type FunctionProperties&lt;T&gt; = Pick&lt;T, FunctionPropertyNames&lt;T&gt;&gt;;

type NonFunctionPropertyNames&lt;T&gt; = {
  [K in keyof T]: T[K] extends Function ? never : K;
}[keyof T];
type NonFunctionProperties&lt;T&gt; = Pick&lt;T, NonFunctionPropertyNames&lt;T&gt;&gt;;

interface Part {
  id: number;
  name: string;
  subparts: Part[];
  updatePart(newName: string): void;
}

type T1 = FunctionPropertyNames&lt;Part&gt;;
type T2 = NonFunctionPropertyNames&lt;Part&gt;;
type T3 = FunctionProperties&lt;Part&gt;;
type T4 = NonFunctionProperties&lt;Part&gt;;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Foo&lt;T&gt; = T extends { a: infer U; b: infer U } ? U : never;

// type T1 = string
type T1 = Foo&lt;{ a: string; b: string }&gt;;
// type T2 = string | number
type T2 = Foo&lt;{ a: string; b: number }&gt;;



type Bar&lt;T&gt; = T extends { a: (x: infer U) =&gt; void; b: (x: infer U) =&gt; void }
  ? U
  : never;

type T1 = Bar&lt;{ a: (x: string) =&gt; void; b: (x: string) =&gt; void }&gt;;

// type T2 = never
type T2 = Bar&lt;{ a: (x: string) =&gt; void; b: (x: number) =&gt; void }&gt;;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>在4.0.3版本中，赋值为null或undefined，并不会报错

type T0 = NonNullable&lt;string | number | undefined | null&gt;

interface Person {
    name: T0
}

let p: Person = {
     name: undefined
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>// email? 是什么意思
const user: { email?: string } = { 
    email : &#39;a@b.com&#39;
}

let account, domain = user.email?.split( &#39;@&#39; ) || []
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type PartialWith&lt;T, M extends keyof T&gt; = {
		[ K in {
				[ P in keyof T ]: P extends M ? never : P
		}[ keyof T ] ]: T[ K ];
} &amp; {
		[ P in M ]?: T[ P ];
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type MergeRecord&lt;M, N&gt; = {
    [ P in keyof M |  keyof N ]: M[ keyof M ] | N[ keyof N ];
}

// Options = {
//    [x: string]: number | boolean;
//    [x: number]: number | boolean;
// }
type Options = MergeRecord&lt;Record&lt;string, number&gt;, Record&lt;number, boolean&gt;&gt;;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type PickWithTypes&lt;T, S&gt; = {
		[ K in {
				[ P in keyof T ]: S extends T[ P ] ? P : never;
		}[ keyof T ] ]: T[ K ];
}

type SomeTypes = {
	name: string;
	age: number;
	sex: string;
	married: boolean;
}

// type A = {
//     age: number;
// }
type A = PickWithTypes&lt;SomeTypes, number&gt;;

// type B = {
//     name: string;
//     sex: string;
// }
type B = PickWithTypes&lt;SomeTypes, string&gt;;


// type C = {
//     name: string;
//     sex: string;
//     married: boolean;
// }
type C = PickWithTypes&lt;SomeTypes, string | boolean&gt;;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>type Omit&lt;T, K extends keyof any&gt; = {
		[ Key in {
				[ P in keyof T ]: P extends K ? never : P
		}[ keyof T ] ]: T[ Key ];	
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language- line-numbers-mode"><span class="copy"></span><pre><code>function f1( name: string ): string;
function f1( name: number ): number;
function f1( name: number ): boolean;
function f1( name: number ): Date;
function f1( name: number ): Promise&lt;any&gt;;
function f1( name: number ): () =&gt; {};
function f1( name: number ): new () =&gt; any;

function f1( name: any ): any {
	return name;
}

type OverloadedReturnType&lt;T&gt; = 
    T extends { (...args: any[]) : infer R; (...args: any[]) : infer R; (...args: any[]) : infer R ; (...args: any[]) : infer R } ? R  :
    T extends { (...args: any[]) : infer R; (...args: any[]) : infer R; (...args: any[]) : infer R } ? R  :
    T extends { (...args: any[]) : infer R; (...args: any[]) : infer R } ? R  :
    T extends (...args: any[]) =&gt; infer R ? R : any

// type T1 = new () =&gt; any
type T1 = ReturnType&lt;typeof f1&gt;;

// type T2 = (new () =&gt; any) | Date | Promise&lt;any&gt; | (() =&gt; {})
type T2 = OverloadedReturnType&lt;typeof f1&gt;;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-6c90a2e3 data-v-f0ecb34e><!----><div class="prev-next" data-v-f0ecb34e><div class="pager" data-v-f0ecb34e><a class="pager-link prev" href="/j-projects/notes/vue.html" data-v-f0ecb34e><span class="desc" data-v-f0ecb34e>Previous page</span><span class="title" data-v-f0ecb34e>VUE</span></a></div><div class="has-prev pager" data-v-f0ecb34e><a class="pager-link next" href="/j-projects/notes/yarn.html" data-v-f0ecb34e><span class="desc" data-v-f0ecb34e>Next page</span><span class="title" data-v-f0ecb34e>YARN</span></a></div></div></footer></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-a9e6f746 data-v-34fcb22c><div class="container" data-v-34fcb22c><p class="message" data-v-34fcb22c>版权声明</p><p class="copyright" data-v-34fcb22c>本文档内容版权为xushijie所有，保留所有权利</p></div></footer></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"readme.md\":\"be27a9a6\",\"index.md\":\"c9eaec6e\",\"introduce_index.md\":\"0408f312\",\"notes_algorithm.md\":\"9bd5c2b3\",\"notes_basis.md\":\"cf815bf0\",\"notes_consume_consume.md\":\"a924a672\",\"notes_consume_lowcost.md\":\"f8ee1dbd\",\"notes_css.md\":\"1a8bf11d\",\"notes_data1.md\":\"5bc2b064\",\"notes_design.md\":\"259f4de0\",\"notes_douyin_local_life.md\":\"33c2f7ab\",\"notes_douyin_travel.md\":\"608a7399\",\"notes_html.md\":\"f1ac763c\",\"notes_interview_code.md\":\"29d9f80e\",\"notes_interview_css.md\":\"3fde94e9\",\"notes_interview_javascript.md\":\"2f7cfc98\",\"notes_interview_node.md\":\"b7c68406\",\"notes_interview_performance.md\":\"9590acee\",\"notes_interview_webpack.md\":\"af276663\",\"notes_javascript.md\":\"884d751e\",\"notes_kuaishou_account.md\":\"94fad2a1\",\"notes_kuaishou_basic.md\":\"ab22c98d\",\"notes_kuaishou_card.md\":\"173bf180\",\"notes_kuaishou_guide.md\":\"e2a7e8bb\",\"notes_kuaishou_investmentflow.md\":\"815e9438\",\"notes_kuaishou_livebroadcast.md\":\"7a18ea3b\",\"notes_kuaishou_product.md\":\"45148c65\",\"notes_kuaishou_video.md\":\"3f89e301\",\"notes_mode_profit.md\":\"59adb6ff\",\"notes_mysql.md\":\"aa22d501\",\"notes_product_stockings.md\":\"7c4d2254\",\"notes_react.md\":\"695fdaaa\",\"notes_resetful.md\":\"02cfb042\",\"notes_shipinhao_account.md\":\"91cd3c96\",\"notes_shipinhao_basic.md\":\"8d122033\",\"notes_typescript.md\":\"5ed459e0\",\"notes_vim.md\":\"6248785e\",\"notes_vue.md\":\"a1a69eb7\",\"notes_xushijie.md\":\"cd641131\",\"notes_yarn.md\":\"34386ac9\",\"projects_j-http-code.md\":\"bfee96c6\",\"projects_j-is.md\":\"9c94d47e\",\"resources_index.md\":\"d9ee25ba\"}")</script>
    <script type="module" async src="/j-projects/assets/app.c1086fd0.js"></script>
    
  </body>
</html>